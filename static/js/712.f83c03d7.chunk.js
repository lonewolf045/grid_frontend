"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[712],{331(e,a,s){s.r(a),s.d(a,{default:()=>n});s(43);var c=s(763),r=s(712),t=s(683),o=s(216),i=s(579);const n=(0,t.A)(e=>{const{user:a}=e.context,{maj:s}=(0,o.g)();if(!a||!a.smartbag)return(0,i.jsx)("div",{className:"empty-state",children:(0,i.jsx)("p",{children:"You need to be logged in to access your smart bag."})});let t=[];a.smartbag&&a.smartbag[s]&&(t=a.smartbag[s]);const n=[{label:"Home",href:"/",icon:"home"},{label:"Smart Bag",href:"/smart-bag"},{label:s,href:"/smartbag/".concat(s),isActive:!0}],d=s.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return(0,i.jsxs)("div",{className:"smartbag-products-page",children:[(0,i.jsxs)("div",{className:"page-header",children:[(0,i.jsx)(r.Qp,{items:n}),(0,i.jsxs)("h1",{className:"page-title",children:["Smart Bag - ",d]}),(0,i.jsxs)("p",{className:"page-subtitle",children:["Your personalized ",d.toLowerCase()," recommendations"]})]}),(0,i.jsx)(c.qo,{products:t,onAddToCart:e.context.addToCart,emptyMessage:"No ".concat(d.toLowerCase()," products in your smart bag"),emptyDescription:"Your smart bag will be populated with personalized recommendations based on your preferences and shopping history.",columns:"auto",gap:"medium"})]})})},683(e,a,s){s.d(a,{A:()=>o});var c=s(555),r=(s(43),s(95)),t=s(579);const o=e=>a=>(0,t.jsx)(r.A.Consumer,{children:s=>(0,t.jsx)(e,(0,c.A)((0,c.A)({},a),{},{context:s}))})},763(e,a,s){s.d(a,{qo:()=>g});var c=s(555),r=s(986),t=s(43),o=s(712),i=s(579);const n=["product","onAddToCart","loading","variant","showQuickActions","className"],d=(0,t.memo)(e=>{let{product:a,onAddToCart:s,loading:d=!1,variant:l="default",showQuickActions:u=!0,className:p=""}=e,m=(0,r.A)(e,n);const[g,h]=(0,t.useState)(!1),x=e=>"\u20b9".concat("number"===typeof e?e.toFixed(2):e),j=a.discount>0?Math.round((a.oprice-a.dprice)/a.oprice*100):0,v=["product-card","product-card--".concat(l),d&&"product-card--loading",p].filter(Boolean).join(" ");return d?(0,i.jsx)(o.Zp,{className:v,padding:"medium",children:(0,i.jsxs)("div",{className:"product-card-skeleton",children:[(0,i.jsx)(o.kt.Skeleton,{height:"200px",variant:"rectangular"}),(0,i.jsxs)("div",{className:"product-card-skeleton-content",children:[(0,i.jsx)(o.kt.Skeleton,{height:"1.5rem",width:"80%"}),(0,i.jsx)(o.kt.Skeleton,{height:"1rem",width:"60%"}),(0,i.jsx)(o.kt.Skeleton,{height:"2rem",width:"40%"})]})]})}):(0,i.jsxs)(o.Zp,(0,c.A)((0,c.A)({className:v,hover:!0,padding:"none"},m),{},{children:[(0,i.jsxs)("div",{className:"product-card-image-container",children:[(0,i.jsx)(o.p$.Product,{imageName:a.item_id,productName:a.name,context:"card",className:"product-card-image",placeholder:"/images/placeholder-product.jpg",fallback:"/images/default-product.jpg"}),j>0&&(0,i.jsxs)("div",{className:"product-card-badge product-card-badge--discount",children:[j,"% OFF"]}),u&&(0,i.jsx)("div",{className:"product-card-overlay",children:(0,i.jsxs)("div",{className:"product-card-quick-actions",children:[(0,i.jsx)(o.$n,{variant:"ghost",size:"small",className:"product-card-quick-action","aria-label":"View ".concat(a.name," details"),children:(0,i.jsxs)("svg",{className:"product-card-quick-action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,i.jsx)(o.$n,{variant:"ghost",size:"small",className:"product-card-quick-action","aria-label":"Add ".concat(a.name," to wishlist"),children:(0,i.jsx)("svg",{className:"product-card-quick-action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})})]}),(0,i.jsxs)(o.Zp.Body,{className:"product-card-content",children:[(0,i.jsxs)("div",{className:"product-card-header",children:[(0,i.jsx)("h3",{className:"product-card-title",children:a.name}),a.shortDesc&&(0,i.jsx)("p",{className:"product-card-description",children:a.shortDesc})]}),(0,i.jsx)("div",{className:"product-card-pricing",children:a.discount>0?(0,i.jsxs)("div",{className:"product-card-price-group",children:[(0,i.jsx)("span",{className:"product-card-price product-card-price--current",children:x(a.dprice)}),(0,i.jsx)("span",{className:"product-card-price product-card-price--original",children:x(a.oprice)})]}):(0,i.jsx)("span",{className:"product-card-price product-card-price--single",children:x(a.oprice)})}),void 0!==a.stock&&(0,i.jsx)("div",{className:"product-card-stock",children:a.stock>0?(0,i.jsx)("span",{className:"product-card-stock-status product-card-stock-status--in-stock",children:a.stock>10?"In Stock":"Only ".concat(a.stock," left")}):(0,i.jsx)("span",{className:"product-card-stock-status product-card-stock-status--out-of-stock",children:"Out of Stock"})})]}),(0,i.jsx)(o.Zp.Footer,{className:"product-card-footer",children:(0,i.jsx)(o.$n,{variant:"primary",fullWidth:!0,loading:g,disabled:0===a.stock,onClick:async()=>{if(!g&&s){h(!0);try{await s({id:a.name,product:a,amount:1})}catch(e){console.error("Error adding to cart:",e)}finally{h(!1)}}},"aria-label":"Add ".concat(a.name," to cart"),children:0===a.stock?"Out of Stock":"Add to Cart"})})]}))});d.displayName="ProductCard";const l=d,u=["products","loading","columns","gap","onAddToCart","emptyMessage","emptyDescription","showQuickActions","cardVariant","className"],p=["title","subtitle","products","loading","onAddToCart","onViewAll","showViewAll","maxItems","className"],m=e=>{let{products:a=[],loading:s=!1,columns:t="auto",gap:o="medium",onAddToCart:n,emptyMessage:d="No products found",emptyDescription:p="Try adjusting your search or browse our categories.",showQuickActions:m=!0,cardVariant:g="default",className:h=""}=e,x=(0,r.A)(e,u);const j=["product-grid","product-grid--columns-".concat(t),"product-grid--gap-".concat(o),s&&"product-grid--loading",h].filter(Boolean).join(" ");return s?(0,i.jsx)("div",(0,c.A)((0,c.A)({className:j},x),{},{children:Array.from({length:8}).map((e,a)=>(0,i.jsx)(l,{product:{},loading:!0},"skeleton-".concat(a)))})):a&&0!==a.length?(0,i.jsx)("div",(0,c.A)((0,c.A)({className:j},x),{},{children:a.map((e,a)=>(0,i.jsx)(l,{product:e,onAddToCart:n,showQuickActions:m,variant:g},e.item_id||e.id||a))})):(0,i.jsx)("div",{className:"product-grid-empty",children:(0,i.jsxs)("div",{className:"product-grid-empty-content",children:[(0,i.jsx)("div",{className:"product-grid-empty-icon",children:(0,i.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"m9 12 2 2 4-4"})]})}),(0,i.jsx)("h3",{className:"product-grid-empty-title",children:d}),(0,i.jsx)("p",{className:"product-grid-empty-description",children:p})]})})};m.Section=e=>{let{title:a,subtitle:s,products:t,loading:o,onAddToCart:n,onViewAll:d,showViewAll:l=!1,maxItems:u,className:g=""}=e,h=(0,r.A)(e,p);const x=u?null===t||void 0===t?void 0:t.slice(0,u):t;return(0,i.jsxs)("section",{className:"product-grid-section ".concat(g),children:[(a||s)&&(0,i.jsxs)("div",{className:"product-grid-section-header",children:[(0,i.jsxs)("div",{className:"product-grid-section-info",children:[a&&(0,i.jsx)("h2",{className:"product-grid-section-title",children:a}),s&&(0,i.jsx)("p",{className:"product-grid-section-subtitle",children:s})]}),l&&d&&(0,i.jsxs)("button",{className:"product-grid-section-view-all",onClick:d,children:["View All",(0,i.jsx)("svg",{className:"product-grid-section-view-all-icon",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),(0,i.jsx)(m,(0,c.A)({products:x,loading:o,onAddToCart:n},h))]})};const g=m,h=["src","alt","placeholder","fallback","loading","sizes","className","onLoad","onError","aspectRatio","objectFit","showLoadingSpinner"],x=["images","alt","className","onImageChange","showThumbnails"],j=e=>{let{src:a,alt:s,placeholder:n="/images/placeholder-product.jpg",fallback:d="/images/default-product.jpg",loading:l="lazy",sizes:u,className:p="",onLoad:m,onError:g,aspectRatio:x="1/1",objectFit:j="cover",showLoadingSpinner:v=!0}=e,N=(0,r.A)(e,h);const[k,y]=(0,t.useState)("loading"),[b,f]=(0,t.useState)(n),A=(0,t.useRef)(null),[w,C]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if("lazy"!==l)return void C(!0);const e=new IntersectionObserver(a=>{let[s]=a;s.isIntersecting&&(C(!0),e.disconnect())},{threshold:.1,rootMargin:"50px"});return A.current&&e.observe(A.current),()=>e.disconnect()},[l]),(0,t.useEffect)(()=>{if(!w||!a)return;const e=new Image;e.onload=()=>{f(a),y("loaded"),m&&m()},e.onerror=()=>{f(d),y("error"),g&&g()},e.src=a},[w,a,d,m,g]);const S=["product-image","product-image--".concat(k),p].filter(Boolean).join(" "),L=(0,c.A)({aspectRatio:x},N.style),z={objectFit:j};return(0,i.jsxs)("div",{ref:A,className:"product-image-container",style:L,children:[v&&"loading"===k&&(0,i.jsx)("div",{className:"product-image-loading",children:(0,i.jsx)(o.kt,{size:"small",variant:"muted"})}),(0,i.jsx)("img",(0,c.A)({src:b,alt:s,className:S,style:z,sizes:u,loading:l},N)),"error"===k&&(0,i.jsx)("div",{className:"product-image-error",children:(0,i.jsxs)("svg",{className:"product-image-error-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,i.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,i.jsx)("polyline",{points:"21,15 16,10 5,21"})]})})]})};j.Gallery=e=>{let{images:a=[],alt:s,className:o="",onImageChange:n,showThumbnails:d=!0}=e,l=(0,r.A)(e,x);const[u,p]=(0,t.useState)(0),m=e=>{p(e),n&&n(a[e],e)};return a.length?(0,i.jsxs)("div",{className:"product-image-gallery ".concat(o),children:[(0,i.jsxs)("div",{className:"product-image-gallery-main",children:[(0,i.jsx)(j,(0,c.A)({src:a[u],alt:"".concat(s," - Image ").concat(u+1)},l)),a.length>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"product-image-gallery-nav product-image-gallery-nav--prev",onClick:()=>m(u>0?u-1:a.length-1),"aria-label":"Previous image",children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("polyline",{points:"15,18 9,12 15,6"})})}),(0,i.jsx)("button",{className:"product-image-gallery-nav product-image-gallery-nav--next",onClick:()=>m(u<a.length-1?u+1:0),"aria-label":"Next image",children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("polyline",{points:"9,18 15,12 9,6"})})})]})]}),d&&a.length>1&&(0,i.jsx)("div",{className:"product-image-gallery-thumbnails",children:a.map((e,a)=>(0,i.jsx)("button",{className:"product-image-gallery-thumbnail ".concat(a===u?"product-image-gallery-thumbnail--active":""),onClick:()=>m(a),onKeyDown:e=>((e,a)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m(a))})(e,a),"aria-label":"View image ".concat(a+1),children:(0,i.jsx)(j,{src:e,alt:"".concat(s," thumbnail ").concat(a+1),showLoadingSpinner:!1,aspectRatio:"1/1"})},a))})]}):(0,i.jsx)(j,(0,c.A)({src:"",alt:s,className:o},l))}}}]);
//# sourceMappingURL=712.f83c03d7.chunk.js.map