"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[235],{235(e,s,t){t.r(s),t.d(s,{default:()=>o});var a=t(43),i=t(683),n=t(216),c=t(722),l=t(579);const r={name:"",price:"",stock:"",shortDesc:"",description:""};class h extends a.Component{constructor(e){super(e),this.save=async e=>{e.preventDefault();const{name:s,price:t,stock:a,shortDesc:i,description:n}=this.state;if(s&&t){const e=Math.random().toString(36).substring(2)+Date.now().toString(36);await c.A.post("http://localhost:3001/products",{id:e,name:s,price:t,stock:a,shortDesc:i,description:n}),this.props.context.addProduct({name:s,price:t,shortDesc:i,description:n,stock:a||0},()=>this.setState(r)),this.setState({flash:{status:"is-success",msg:"Product created successfully"}})}else this.setState({flash:{status:"is-danger",msg:"Please enter name and price"}})},this.handleChange=e=>this.setState({[e.target.name]:e.target.value,error:""}),this.state=r}render(){const{name:e,price:s,stock:t,shortDesc:a,description:i}=this.state,{user:c}=this.props.context;return c&&c.accessLevel<1?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"hero is-primary ",children:(0,l.jsx)("div",{className:"hero-body container",children:(0,l.jsx)("h4",{className:"title",children:"Add Product"})})}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("form",{onSubmit:this.save,children:(0,l.jsx)("div",{className:"columns is-mobile is-centered",children:(0,l.jsxs)("div",{className:"column is-one-third",children:[(0,l.jsxs)("div",{className:"field",children:[(0,l.jsx)("label",{className:"label",children:"Product Name: "}),(0,l.jsx)("input",{className:"input",type:"text",name:"name",value:e,onChange:this.handleChange,required:!0})]}),(0,l.jsxs)("div",{className:"field",children:[(0,l.jsx)("label",{className:"label",children:"Price: "}),(0,l.jsx)("input",{className:"input",type:"number",name:"price",value:s,onChange:this.handleChange,required:!0})]}),(0,l.jsxs)("div",{className:"field",children:[(0,l.jsx)("label",{className:"label",children:"Available in Stock: "}),(0,l.jsx)("input",{className:"input",type:"number",name:"stock",value:t,onChange:this.handleChange})]}),(0,l.jsxs)("div",{className:"field",children:[(0,l.jsx)("label",{className:"label",children:"Short Description: "}),(0,l.jsx)("input",{className:"input",type:"text",name:"shortDesc",value:a,onChange:this.handleChange})]}),(0,l.jsxs)("div",{className:"field",children:[(0,l.jsx)("label",{className:"label",children:"Description: "}),(0,l.jsx)("textarea",{className:"textarea",type:"text",rows:"2",style:{resize:"none"},name:"description",value:i,onChange:this.handleChange})]}),this.state.flash&&(0,l.jsx)("div",{className:"notification ".concat(this.state.flash.status),children:this.state.flash.msg}),(0,l.jsx)("div",{className:"field is-clearfix",children:(0,l.jsx)("button",{className:"button is-primary is-outlined is-pulled-right",type:"submit",onClick:this.save,children:"Submit"})})]})})})]}):(0,l.jsx)(n.C5,{to:"/",replace:!0})}}const o=(0,i.A)(h)},683(e,s,t){t.d(s,{A:()=>c});var a=t(555),i=(t(43),t(95)),n=t(579);const c=e=>s=>(0,n.jsx)(i.A.Consumer,{children:t=>(0,n.jsx)(e,(0,a.A)((0,a.A)({},s),{},{context:t}))})}}]);
//# sourceMappingURL=235.24badf46.chunk.js.map