"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[74],{74(e,c,a){a.r(c),a.d(c,{default:()=>n});a(43);var t=a(763),o=a(712),s=a(683),r=a(216),i=a(579);const n=(0,s.A)(e=>{console.log("ProductList props:",e);const{maj:c,min:a,type:s}=(0,r.g)();if(console.log("ProductList params:",{maj:c,min:a,type:s}),!e.context)return console.log("ProductList: No context found"),(0,i.jsx)(o.PE.Page,{title:"Loading...",children:(0,i.jsx)("div",{className:"loading-center",children:(0,i.jsx)(o.kt,{size:"large",text:"Loading products..."})})});const{products:n}=e.context;console.log("ProductList products:",n);let l=[];n&&n[c]&&n[c][a]&&n[c][a][s]&&(l=n[c][a][s]),console.log("ProductList productItems:",l);const d="".concat(c," > ").concat(a," > ").concat(s),u=[{label:"Home",href:"/",icon:"home"},{label:"Products",href:"/products",icon:"products"},{label:c,href:"/labels/".concat(c)},{label:a,href:"/labels/".concat(c,"/").concat(a)},{label:s,href:"/labels/".concat(c,"/").concat(a,"/").concat(s),isActive:!0}];return(0,i.jsx)(o.PE.Page,{title:"Our Products",subtitle:"Browse ".concat(d.toLowerCase()),breadcrumbs:(0,i.jsx)(o.Qp,{items:u}),children:(0,i.jsx)(t.qo,{products:l,onAddToCart:e.context.addToCart,emptyMessage:"No products found in this category",emptyDescription:"Try browsing other categories or check back later for new products.",columns:"auto",gap:"medium"})})})},683(e,c,a){a.d(c,{A:()=>r});var t=a(555),o=(a(43),a(95)),s=a(579);const r=e=>c=>(0,s.jsx)(o.A.Consumer,{children:a=>(0,s.jsx)(e,(0,t.A)((0,t.A)({},c),{},{context:a}))})},763(e,c,a){a.d(c,{qo:()=>g});var t=a(555),o=a(986),s=a(43),r=a(712),i=a(579);const n=["product","onAddToCart","loading","variant","showQuickActions","className"],l=(0,s.memo)(e=>{let{product:c,onAddToCart:a,loading:l=!1,variant:d="default",showQuickActions:u=!0,className:p=""}=e,m=(0,o.A)(e,n);const[g,h]=(0,s.useState)(!1),x=e=>"\u20b9".concat("number"===typeof e?e.toFixed(2):e),j=c.discount>0?Math.round((c.oprice-c.dprice)/c.oprice*100):0,v=["product-card","product-card--".concat(d),l&&"product-card--loading",p].filter(Boolean).join(" ");return l?(0,i.jsx)(r.Zp,{className:v,padding:"medium",children:(0,i.jsxs)("div",{className:"product-card-skeleton",children:[(0,i.jsx)(r.kt.Skeleton,{height:"200px",variant:"rectangular"}),(0,i.jsxs)("div",{className:"product-card-skeleton-content",children:[(0,i.jsx)(r.kt.Skeleton,{height:"1.5rem",width:"80%"}),(0,i.jsx)(r.kt.Skeleton,{height:"1rem",width:"60%"}),(0,i.jsx)(r.kt.Skeleton,{height:"2rem",width:"40%"})]})]})}):(0,i.jsxs)(r.Zp,(0,t.A)((0,t.A)({className:v,hover:!0,padding:"none"},m),{},{children:[(0,i.jsxs)("div",{className:"product-card-image-container",children:[(0,i.jsx)(r.p$.Product,{imageName:c.item_id,productName:c.name,context:"card",className:"product-card-image",placeholder:"/images/placeholder-product.jpg",fallback:"/images/default-product.jpg"}),j>0&&(0,i.jsxs)("div",{className:"product-card-badge product-card-badge--discount",children:[j,"% OFF"]}),u&&(0,i.jsx)("div",{className:"product-card-overlay",children:(0,i.jsxs)("div",{className:"product-card-quick-actions",children:[(0,i.jsx)(r.$n,{variant:"ghost",size:"small",className:"product-card-quick-action","aria-label":"View ".concat(c.name," details"),children:(0,i.jsxs)("svg",{className:"product-card-quick-action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,i.jsx)(r.$n,{variant:"ghost",size:"small",className:"product-card-quick-action","aria-label":"Add ".concat(c.name," to wishlist"),children:(0,i.jsx)("svg",{className:"product-card-quick-action-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]})})]}),(0,i.jsxs)(r.Zp.Body,{className:"product-card-content",children:[(0,i.jsxs)("div",{className:"product-card-header",children:[(0,i.jsx)("h3",{className:"product-card-title",children:c.name}),c.shortDesc&&(0,i.jsx)("p",{className:"product-card-description",children:c.shortDesc})]}),(0,i.jsx)("div",{className:"product-card-pricing",children:c.discount>0?(0,i.jsxs)("div",{className:"product-card-price-group",children:[(0,i.jsx)("span",{className:"product-card-price product-card-price--current",children:x(c.dprice)}),(0,i.jsx)("span",{className:"product-card-price product-card-price--original",children:x(c.oprice)})]}):(0,i.jsx)("span",{className:"product-card-price product-card-price--single",children:x(c.oprice)})}),void 0!==c.stock&&(0,i.jsx)("div",{className:"product-card-stock",children:c.stock>0?(0,i.jsx)("span",{className:"product-card-stock-status product-card-stock-status--in-stock",children:c.stock>10?"In Stock":"Only ".concat(c.stock," left")}):(0,i.jsx)("span",{className:"product-card-stock-status product-card-stock-status--out-of-stock",children:"Out of Stock"})})]}),(0,i.jsx)(r.Zp.Footer,{className:"product-card-footer",children:(0,i.jsx)(r.$n,{variant:"primary",fullWidth:!0,loading:g,disabled:0===c.stock,onClick:async()=>{if(!g&&a){h(!0);try{await a({id:c.name,product:c,amount:1})}catch(e){console.error("Error adding to cart:",e)}finally{h(!1)}}},"aria-label":"Add ".concat(c.name," to cart"),children:0===c.stock?"Out of Stock":"Add to Cart"})})]}))});l.displayName="ProductCard";const d=l,u=["products","loading","columns","gap","onAddToCart","emptyMessage","emptyDescription","showQuickActions","cardVariant","className"],p=["title","subtitle","products","loading","onAddToCart","onViewAll","showViewAll","maxItems","className"],m=e=>{let{products:c=[],loading:a=!1,columns:s="auto",gap:r="medium",onAddToCart:n,emptyMessage:l="No products found",emptyDescription:p="Try adjusting your search or browse our categories.",showQuickActions:m=!0,cardVariant:g="default",className:h=""}=e,x=(0,o.A)(e,u);const j=["product-grid","product-grid--columns-".concat(s),"product-grid--gap-".concat(r),a&&"product-grid--loading",h].filter(Boolean).join(" ");return a?(0,i.jsx)("div",(0,t.A)((0,t.A)({className:j},x),{},{children:Array.from({length:8}).map((e,c)=>(0,i.jsx)(d,{product:{},loading:!0},"skeleton-".concat(c)))})):c&&0!==c.length?(0,i.jsx)("div",(0,t.A)((0,t.A)({className:j},x),{},{children:c.map((e,c)=>(0,i.jsx)(d,{product:e,onAddToCart:n,showQuickActions:m,variant:g},e.item_id||e.id||c))})):(0,i.jsx)("div",{className:"product-grid-empty",children:(0,i.jsxs)("div",{className:"product-grid-empty-content",children:[(0,i.jsx)("div",{className:"product-grid-empty-icon",children:(0,i.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"m9 12 2 2 4-4"})]})}),(0,i.jsx)("h3",{className:"product-grid-empty-title",children:l}),(0,i.jsx)("p",{className:"product-grid-empty-description",children:p})]})})};m.Section=e=>{let{title:c,subtitle:a,products:s,loading:r,onAddToCart:n,onViewAll:l,showViewAll:d=!1,maxItems:u,className:g=""}=e,h=(0,o.A)(e,p);const x=u?null===s||void 0===s?void 0:s.slice(0,u):s;return(0,i.jsxs)("section",{className:"product-grid-section ".concat(g),children:[(c||a)&&(0,i.jsxs)("div",{className:"product-grid-section-header",children:[(0,i.jsxs)("div",{className:"product-grid-section-info",children:[c&&(0,i.jsx)("h2",{className:"product-grid-section-title",children:c}),a&&(0,i.jsx)("p",{className:"product-grid-section-subtitle",children:a})]}),d&&l&&(0,i.jsxs)("button",{className:"product-grid-section-view-all",onClick:l,children:["View All",(0,i.jsx)("svg",{className:"product-grid-section-view-all-icon",viewBox:"0 0 20 20",fill:"currentColor",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}),(0,i.jsx)(m,(0,t.A)({products:x,loading:r,onAddToCart:n},h))]})};const g=m,h=["src","alt","placeholder","fallback","loading","sizes","className","onLoad","onError","aspectRatio","objectFit","showLoadingSpinner"],x=["images","alt","className","onImageChange","showThumbnails"],j=e=>{let{src:c,alt:a,placeholder:n="/images/placeholder-product.jpg",fallback:l="/images/default-product.jpg",loading:d="lazy",sizes:u,className:p="",onLoad:m,onError:g,aspectRatio:x="1/1",objectFit:j="cover",showLoadingSpinner:v=!0}=e,k=(0,o.A)(e,h);const[N,y]=(0,s.useState)("loading"),[f,b]=(0,s.useState)(n),A=(0,s.useRef)(null),[w,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if("lazy"!==d)return void C(!0);const e=new IntersectionObserver(c=>{let[a]=c;a.isIntersecting&&(C(!0),e.disconnect())},{threshold:.1,rootMargin:"50px"});return A.current&&e.observe(A.current),()=>e.disconnect()},[d]),(0,s.useEffect)(()=>{if(!w||!c)return;const e=new Image;e.onload=()=>{b(c),y("loaded"),m&&m()},e.onerror=()=>{b(l),y("error"),g&&g()},e.src=c},[w,c,l,m,g]);const L=["product-image","product-image--".concat(N),p].filter(Boolean).join(" "),S=(0,t.A)({aspectRatio:x},k.style),P={objectFit:j};return(0,i.jsxs)("div",{ref:A,className:"product-image-container",style:S,children:[v&&"loading"===N&&(0,i.jsx)("div",{className:"product-image-loading",children:(0,i.jsx)(r.kt,{size:"small",variant:"muted"})}),(0,i.jsx)("img",(0,t.A)({src:f,alt:a,className:L,style:P,sizes:u,loading:d},k)),"error"===N&&(0,i.jsx)("div",{className:"product-image-error",children:(0,i.jsxs)("svg",{className:"product-image-error-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[(0,i.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),(0,i.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,i.jsx)("polyline",{points:"21,15 16,10 5,21"})]})})]})};j.Gallery=e=>{let{images:c=[],alt:a,className:r="",onImageChange:n,showThumbnails:l=!0}=e,d=(0,o.A)(e,x);const[u,p]=(0,s.useState)(0),m=e=>{p(e),n&&n(c[e],e)};return c.length?(0,i.jsxs)("div",{className:"product-image-gallery ".concat(r),children:[(0,i.jsxs)("div",{className:"product-image-gallery-main",children:[(0,i.jsx)(j,(0,t.A)({src:c[u],alt:"".concat(a," - Image ").concat(u+1)},d)),c.length>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"product-image-gallery-nav product-image-gallery-nav--prev",onClick:()=>m(u>0?u-1:c.length-1),"aria-label":"Previous image",children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("polyline",{points:"15,18 9,12 15,6"})})}),(0,i.jsx)("button",{className:"product-image-gallery-nav product-image-gallery-nav--next",onClick:()=>m(u<c.length-1?u+1:0),"aria-label":"Next image",children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,i.jsx)("polyline",{points:"9,18 15,12 9,6"})})})]})]}),l&&c.length>1&&(0,i.jsx)("div",{className:"product-image-gallery-thumbnails",children:c.map((e,c)=>(0,i.jsx)("button",{className:"product-image-gallery-thumbnail ".concat(c===u?"product-image-gallery-thumbnail--active":""),onClick:()=>m(c),onKeyDown:e=>((e,c)=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),m(c))})(e,c),"aria-label":"View image ".concat(c+1),children:(0,i.jsx)(j,{src:e,alt:"".concat(a," thumbnail ").concat(c+1),showLoadingSpinner:!1,aspectRatio:"1/1"})},c))})]}):(0,i.jsx)(j,(0,t.A)({src:"",alt:a,className:r},d))}}}]);
//# sourceMappingURL=74.cc1a4448.chunk.js.map