{"version":3,"file":"static/js/235.24badf46.chunk.js","mappings":"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","sources":["components/AddProduct.js","withContext.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport withContext from \"../withContext\";\nimport { Navigate } from \"react-router-dom\";\nimport axios from 'axios';\n\nconst initState = {\n  name: \"\",\n  price: \"\",\n  stock: \"\",\n  shortDesc: \"\",\n  description: \"\"\n};\n\nclass AddProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initState;\n  }\n\n  save = async (e) => {\n    e.preventDefault();\n    const { name, price, stock, shortDesc, description } = this.state;\n\n    if (name && price) {\n      const id = Math.random().toString(36).substring(2) + Date.now().toString(36);\n\n      await axios.post(\n        'http://localhost:3001/products',\n        { id, name, price, stock, shortDesc, description },\n      )\n\n      this.props.context.addProduct(\n        {\n          name,\n          price,\n          shortDesc,\n          description,\n          stock: stock || 0\n        },\n        () => this.setState(initState)\n      );\n      this.setState(\n        { flash: { status: 'is-success', msg: 'Product created successfully' }}\n      );\n\n    } else {\n      this.setState(\n        { flash: { status: 'is-danger', msg: 'Please enter name and price' }}\n      );\n    }\n  };\n\n  handleChange = e => this.setState({ [e.target.name]: e.target.value, error: \"\" });\n\n  render() {\n    const { name, price, stock, shortDesc, description } = this.state;\n    const { user } = this.props.context;\n\n    return !(user && user.accessLevel < 1) ? (\n      <Navigate to=\"/\" replace />\n    ) : (\n      <>\n        <div className=\"hero is-primary \">\n          <div className=\"hero-body container\">\n            <h4 className=\"title\">Add Product</h4>\n          </div>\n        </div>\n        <br />\n        <br />\n        <form onSubmit={this.save}>\n          <div className=\"columns is-mobile is-centered\">\n            <div className=\"column is-one-third\">\n              <div className=\"field\">\n                <label className=\"label\">Product Name: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"name\"\n                  value={name}\n                  onChange={this.handleChange}\n                  required\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Price: </label>\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"price\"\n                  value={price}\n                  onChange={this.handleChange}\n                  required\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Available in Stock: </label>\n                <input\n                  className=\"input\"\n                  type=\"number\"\n                  name=\"stock\"\n                  value={stock}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Short Description: </label>\n                <input\n                  className=\"input\"\n                  type=\"text\"\n                  name=\"shortDesc\"\n                  value={shortDesc}\n                  onChange={this.handleChange}\n                />\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">Description: </label>\n                <textarea\n                  className=\"textarea\"\n                  type=\"text\"\n                  rows=\"2\"\n                  style={{ resize: \"none\" }}\n                  name=\"description\"\n                  value={description}\n                  onChange={this.handleChange}\n                />\n              </div>\n              {this.state.flash && (\n                <div className={`notification ${this.state.flash.status}`}>\n                  {this.state.flash.msg}\n                </div>\n              )}\n              <div className=\"field is-clearfix\">\n                <button\n                  className=\"button is-primary is-outlined is-pulled-right\"\n                  type=\"submit\"\n                  onClick={this.save}\n                >\n                  Submit\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </>\n    );\n  }\n}\n\nexport default withContext(AddProduct);","import React from \"react\";\nimport Context from \"./Context\";\n\nconst withContext = WrappedComponent => {\n  const WithHOC = props => {\n    return (\n      <Context.Consumer>\n        {context => <WrappedComponent {...props} context={context} />}\n      </Context.Consumer>\n    );\n  };\n\n  return WithHOC;\n};\n\nexport default withContext;"],"names":["initState","name","price","stock","shortDesc","description","AddProduct","Component","constructor","props","super","save","async","e","preventDefault","this","state","id","Math","random","toString","substring","Date","now","axios","post","context","addProduct","setState","flash","status","msg","handleChange","target","value","error","render","user","accessLevel","_jsxs","_Fragment","children","_jsx","className","onSubmit","type","onChange","required","rows","style","resize","concat","onClick","Navigate","to","replace","withContext","WrappedComponent","Context","Consumer","_objectSpread"],"ignoreList":[],"sourceRoot":""}